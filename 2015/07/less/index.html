<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Less 使用简记 | Hans Chan&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="一直以来，对 css 都是那么无力，最近项目需要，折腾了一下 less。这里只是记录一下一下我使用过程中的问题，熟悉 less 的盆友可以 cmd+w 了。">
<meta property="og:type" content="article">
<meta property="og:title" content="Less 使用简记">
<meta property="og:url" content="http://csbun.github.io/blog/2015/07/less/index.html">
<meta property="og:site_name" content="Hans Chan's Blog">
<meta property="og:description" content="一直以来，对 css 都是那么无力，最近项目需要，折腾了一下 less。这里只是记录一下一下我使用过程中的问题，熟悉 less 的盆友可以 cmd+w 了。">
<meta property="og:updated_time" content="2015-10-27T10:11:45.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Less 使用简记">
<meta name="twitter:description" content="一直以来，对 css 都是那么无力，最近项目需要，折腾了一下 less。这里只是记录一下一下我使用过程中的问题，熟悉 less 的盆友可以 cmd+w 了。">
  
    <link rel="alternative" href="/blog/atom.xml" title="Hans Chan&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/blog/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hans Chan&#39;s Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/blog/">Home</a>
        
          <a class="main-nav-link" href="/blog/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://csbun.github.io/blog"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-less" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2015/07/less/" class="article-date">
  <time datetime="2015-07-08T08:51:48.000Z" itemprop="datePublished">2015-07-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Less 使用简记
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>&#x4E00;&#x76F4;&#x4EE5;&#x6765;&#xFF0C;&#x5BF9; css &#x90FD;&#x662F;&#x90A3;&#x4E48;&#x65E0;&#x529B;&#xFF0C;&#x6700;&#x8FD1;&#x9879;&#x76EE;&#x9700;&#x8981;&#xFF0C;&#x6298;&#x817E;&#x4E86;&#x4E00;&#x4E0B; <a href="http://lesscss.org" target="_blank" rel="external">less</a>&#x3002;&#x8FD9;&#x91CC;&#x53EA;&#x662F;&#x8BB0;&#x5F55;&#x4E00;&#x4E0B;&#x4E00;&#x4E0B;&#x6211;&#x4F7F;&#x7528;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x719F;&#x6089; less &#x7684;&#x76C6;&#x53CB;&#x53EF;&#x4EE5; cmd+w &#x4E86;&#x3002;</p>
<a id="more"></a>
<h2 id="&#x5B89;&#x88C5;">&#x5B89;&#x88C5;</h2><p>&#x5F88;&#x7B80;&#x5355;&#xFF0C;npm</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="tag">i</span> less</span><br></pre></td></tr></table></figure>
<p>&#x5982;&#x679C;&#x8981;&#x4F7F;&#x7528;&#x547D;&#x4EE4;&#x884C;&#x5C31;&#x8981;&#x5168;&#x5C40;&#x5B89;&#x88C5; <code>-g</code>&#x3002;</p>
<h2 id="&#x4F7F;&#x7528;">&#x4F7F;&#x7528;</h2><h3 id="compile">Compile</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> less = <span class="built_in">require</span>(<span class="string">&apos;less&apos;</span>);</span><br><span class="line"><span class="keyword">var</span> sourceCode = <span class="string">&apos;...&apos;</span>; <span class="comment">// &#x6E90;&#x7801;&#x5B57;&#x7B26;&#x4E32;</span></span><br><span class="line"><span class="keyword">var</span> options = {</span><br><span class="line">    compress: <span class="literal">true</span>, <span class="comment">// &#x662F;&#x5426;&#x538B;&#x7F29;</span></span><br><span class="line">    globalVars: {</span><br><span class="line">        var1: <span class="string">&apos;val1&apos;</span></span><br><span class="line">    },</span><br><span class="line">    modifyVars: {</span><br><span class="line">        var2: <span class="string">&apos;val2&apos;</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="keyword">var</span> lessPromise = less.render(sourceCode, options);</span><br></pre></td></tr></table></figure>
<p><code>less.render</code> &#x8FD4;&#x56DE;&#x7684;&#x662F;&#x4E00;&#x4E2A; <code>Promise</code>&#xFF0C;&#x5982;&#x679C;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#xFF0C;&#x5927;&#x53EF;&#x4EE5;&#x76F4;&#x63A5; <code>.then()</code> &#x7EE7;&#x7EED;&#x3002;&#x8FD8;&#x53EF;&#x4EE5;&#x5145;&#x5206;&#x5229;&#x7528; <code>Promise</code> &#x7684;&#x4F18;&#x52BF;&#xFF0C;&#x5982;&#x6279;&#x91CF;&#x64CD;&#x4F5C;&#x65F6; <code>Promise.all([...])</code>&#x3002;</p>
<h3 id="globalvars-modifyvars">globalVars &amp; modifyVars</h3><p>&#x5B98;&#x65B9;&#x7684;&#x5B9A;&#x4E49;&#xFF1A;</p>
<blockquote>
<h4 id="globalvars">globalVars</h4><p>List of global variables to be injected into the code. Keys of the object are variables names, values are variables values. Variables of &#x201C;string&#x201D; type must explicitly include quotes if needed.</p>
<h4 id="modifyvars">modifyVars</h4><p>As opposed to the globalVars option, this puts the declaration at the end of your base file, meaning it will override anything defined in your Less file.</p>
</blockquote>
<p><code>globalVars</code> &#x548C; <code>modifyVars</code> &#x975E;&#x5E38;&#x597D;&#x7528;&#xFF0C;&#x56E0;&#x4E3A;&#x6709;&#x4E86;&#x8FD9;&#x4E24;&#x4E2A;&#x914D;&#x7F6E;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x628A; js &#x91CC;&#x9762;&#x7684;&#x4E00;&#x4E9B;&#x53D8;&#x91CF;&#x4F20;&#x9012;&#x5230; less &#x4E2D;&#x3002;<code>globalVars</code> &#x53EF;&#x4EE5;&#x505A;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;<code>modifyVars</code>&#x505A;&#x91CD;&#x7F6E;&#x503C;&#x3002;</p>
<h3 id="&#x547D;&#x4EE4;&#x884C;">&#x547D;&#x4EE4;&#x884C;</h3><p><code>lessc</code> &#x662F;&#x6807;&#x51C6;&#x8F93;&#x51FA;</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">lessc</span> <span class="tag">file</span><span class="class">.less</span> &gt; <span class="tag">out</span><span class="class">.css</span></span><br></pre></td></tr></table></figure>
<p>&#x5177;&#x4F53;&#x7528;&#x6CD5;&#x8FD8;&#x662F;&#x770B;<a href="http://lesscss.org/#using-less-command-line-usage" target="_blank" rel="external">&#x5B98;&#x7F51;</a>&#x5427;&#x3002;</p>
<h2 id="&#x8BED;&#x6CD5;">&#x8BED;&#x6CD5;</h2><h3 id="&#x5D4C;&#x5957;">&#x5D4C;&#x5957;</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">body {</span><br><span class="line">    color: #333;</span><br><span class="line">    .main {</span><br><span class="line">        background: #eee;</span><br><span class="line">        p {</span><br><span class="line">            color: #666;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x7F16;&#x8BD1;&#x540E;&#xFF1A;</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">body</span> <span class="rules">{</span><br><span class="line">  <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#333</span></span></span>;</span><br><span class="line">}</span></span><br><span class="line"><span class="tag">body</span> <span class="class">.main</span> <span class="rules">{</span><br><span class="line">  <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="hexcolor">#eee</span></span></span>;</span><br><span class="line">}</span></span><br><span class="line"><span class="tag">body</span> <span class="class">.main</span> <span class="tag">p</span> <span class="rules">{</span><br><span class="line">  <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#666</span></span></span>;</span><br><span class="line">}</span></span><br></pre></td></tr></table></figure>
<h3 id="&#x53D8;&#x91CF;">&#x53D8;&#x91CF;</h3><h4 id="&#x503C;">&#x503C;</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="at_rule">@<span class="keyword">var1:</span> #fff</span>;</span><br><span class="line"><span class="tag">body</span> <span class="rules">{</span><br><span class="line">    <span class="rule"><span class="attribute">color</span>:<span class="value"> @var1</span></span>;</span><br><span class="line">}</span></span><br></pre></td></tr></table></figure>
<h4 id="&#x9009;&#x62E9;&#x5668;">&#x9009;&#x62E9;&#x5668;</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="at_rule">@<span class="keyword">my-selector:</span> banner</span>;</span><br><span class="line">.<span class="at_rule">@<span class="keyword">{my-selector}</span> </span>{</span><br><span class="line">    <span class="tag">color</span>: <span class="id">#fff</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h4 id="&#x7279;&#x6B8A;&#x5B57;&#x7B26;">&#x7279;&#x6B8A;&#x5B57;&#x7B26;</h4><ul>
<li>&#x4F20;&#x5165;&#x7684;&#x53C2;&#x6570;&#x9700;&#x8981;&#x7528;&#x5F15;&#x53F7; <code>&quot;</code> &#x5305;&#x4F4F;&#x5B57;&#x7B26;&#x4E32;</li>
<li>&#x4F7F;&#x7528;&#x65F6;&#x7528;&#x5927;&#x62EC;&#x53F7; <code>{}</code> &#x5305;&#x4F4F;&#x53D8;&#x91CF;</li>
<li>&#x53D8;&#x91CF;&#x5FC5;&#x987B;&#x5728;&#x5B57;&#x7B26;&#x4E32;&#x5185; <code>&apos;@{var}&apos;</code></li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="at_rule">@<span class="keyword">imgPath:</span> <span class="string">&quot;/path/to/bg.png&quot;</span></span>;</span><br><span class="line"><span class="class">.bg</span> <span class="rules">{</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="function">url</span>(<span class="string">&apos;@{imagePath}&apos;</span>)</span></span>;</span><br><span class="line">}</span></span><br><span class="line"><span class="class">.bg2</span> <span class="rules">{</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="function">url</span>(<span class="string">&apos;append/url/@{imagePath}&apos;</span>)</span></span>;</span><br><span class="line">}</span></span><br></pre></td></tr></table></figure>
<p>&#x5982;&#x679C;&#x4F7F;&#x7528; <code>globalVars</code> &#x548C; <code>modifyVars</code> &#x65F6;&#xFF0C;&#x4E5F;&#x8981;&#x6CE8;&#x610F;&#xFF1A;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">less.render(sourceCode, {</span><br><span class="line">    modifyVars: {</span><br><span class="line">        imgPath: <span class="string">&apos;&quot;/path/to/bg.png&quot;&apos;</span> <span class="comment">// &#x6CE8;&#x610F;&#xFF0C;&#x91CC;&#x9762;&#x8FD8;&#x6709;&#x4E00;&#x5BF9;&#x53CC;&#x5F15;&#x53F7;</span></span><br><span class="line">    }</span><br><span class="line">});</span><br></pre></td></tr></table></figure>
<h3 id="when">When</h3><p>&#x53EA;&#x80FD;&#x7528;&#x4E8E;&#x5224;&#x65AD; boolean &#x503C;&#x7684;&#x6761;&#x4EF6;&#x8BED;&#x53E5;&#xFF1A;</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="at_rule">@<span class="keyword">condition1:</span> true</span>;</span><br><span class="line"><span class="at_rule">@<span class="keyword">condition2:</span> #fff</span>;</span><br><span class="line"><span class="class">.btn</span> <span class="tag">when</span> (<span class="at_rule">@<span class="keyword">condition1)</span> </span>{ <span class="comment">/* &#x8FD9;&#x91CC;&#x5224;&#x65AD;&#x6210;&#x529F; */</span></span><br><span class="line">    <span class="tag">width</span>: 100<span class="tag">px</span>;</span><br><span class="line">}</span><br><span class="line"><span class="class">.btn</span> <span class="tag">when</span> (<span class="at_rule">@<span class="keyword">condition2)</span> </span>{ <span class="comment">/* &#x8FD9;&#x91CC;&#x5224;&#x65AD;&#x5931;&#x8D25; */</span></span><br><span class="line">    <span class="tag">height</span>: 25<span class="tag">px</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x7F16;&#x8BD1;&#x540E;&#xFF1A;</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.btn</span> <span class="rules">{</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">100px</span></span></span>;</span><br><span class="line">}</span></span><br></pre></td></tr></table></figure>
<p>&#x540C;&#x6837;&#x4E5F;&#x6709; <code>when not</code> &#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#xFF1A;</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="at_rule">@<span class="keyword">img:</span> <span class="string">&quot;path/to/img.png&quot;</span></span>;</span><br><span class="line"><span class="class">.btn</span> <span class="tag">when</span> (<span class="at_rule">@<span class="keyword">img</span> = <span class="string">&quot;&quot;</span>) </span>{</span><br><span class="line">    <span class="tag">background-color</span>: <span class="id">#fff</span>;</span><br><span class="line">}</span><br><span class="line"><span class="class">.btn</span> <span class="tag">when</span> <span class="tag">not</span> (<span class="at_rule">@<span class="keyword">img</span> = <span class="string">&quot;&quot;</span>) </span>{</span><br><span class="line">    <span class="tag">background-image</span>: <span class="tag">url</span>(<span class="at_rule">@<span class="keyword">img);</span></span><br><span class="line">}</span></span><br></pre></td></tr></table></figure>
<p>&#x7F16;&#x8BD1;&#x540E;&#xFF1A;</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.btn</span> <span class="rules">{</span><br><span class="line">    <span class="rule"><span class="attribute">background-image</span>:<span class="value"> <span class="function">url</span>(path/to/img.png)</span></span>;</span><br><span class="line">}</span></span><br></pre></td></tr></table></figure>
<h3 id="extend">Extend</h3><p>&#x9002;&#x7528;&#x4E00;&#x4E9B;&#x5171;&#x540C;&#x6837;&#x5F0F;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x5982;&#xFF1A;</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.btn</span> <span class="rules">{</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">100px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">25px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#fff</span></span></span>;</span><br><span class="line">}</span></span><br><span class="line"></span><br><span class="line"><span class="class">.btn-red</span><span class="pseudo">:extend(</span><span class="class">.btn</span>) <span class="rules">{</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> red</span></span>;</span><br><span class="line">}</span></span><br><span class="line"><span class="class">.btn-blue</span><span class="pseudo">:extend(</span><span class="class">.btn</span>) <span class="rules">{</span><br><span class="line">    <span class="rule"><span class="attribute">background</span>:<span class="value"> blue</span></span>;</span><br><span class="line">}</span></span><br></pre></td></tr></table></figure>
<p>&#x7F16;&#x8BD1;&#x540E;&#xFF1A;</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.btn</span>,</span><br><span class="line"><span class="class">.btn-red</span>,</span><br><span class="line"><span class="class">.btn-blue</span> <span class="rules">{</span><br><span class="line">  <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">100px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">25px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#fff</span></span></span>;</span><br><span class="line">}</span></span><br><span class="line"><span class="class">.btn-red</span> <span class="rules">{</span><br><span class="line">  <span class="rule"><span class="attribute">background</span>:<span class="value"> red</span></span>;</span><br><span class="line">}</span></span><br><span class="line"><span class="class">.btn-blue</span> <span class="rules">{</span><br><span class="line">  <span class="rule"><span class="attribute">background</span>:<span class="value"> blue</span></span>;</span><br><span class="line">}</span></span><br></pre></td></tr></table></figure>
<h4 id="&#x5728;&#x5D4C;&#x5957;&#x91CC;&#x9762;&#x4F7F;&#x7528;">&#x5728;&#x5D4C;&#x5957;&#x91CC;&#x9762;&#x4F7F;&#x7528;</h4><p>&#x5982;&#x4E0B; less &#x4EE3;&#x7801;&#xFF1A;</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.main {</span><br><span class="line">    .title {</span><br><span class="line">        color: #ccc;</span><br><span class="line">    }</span><br><span class="line">    .subtitle:extend(.title) {</span><br><span class="line">        font-size: 14px;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x4F1A;&#x62A5;&#x9519;&#x8BEF; <code>extend &apos; .title&apos; has no matches</code>&#xFF0C;&#x9700;&#x8981;&#x8FD9;&#x6837;&#x5B9E;&#x73B0;</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.main {</span><br><span class="line">    .title {</span><br><span class="line">        color: #ccc;</span><br><span class="line">    }</span><br><span class="line">    .subtitle:extend(.main .title) { // &#x6CE8;&#x610F;&#x8FD9;&#x91CC;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x8FD9;&#x6211;&#x5C31;&#x4E0D;&#x592A;&#x80FD;&#x63A5;&#x53D7;&#x4E86;&#xFF0C;&#x5D4C;&#x5957;&#x91CC;&#x9762;&#x5C45;&#x7136;&#x8FD8;&#x8981;&#x6211;&#x77E5;&#x9053;&#x8FD9;&#x4E2A; <code>.title</code> &#x7684;&#x4E0A;&#x4E00;&#x7EA7;&#x662F; <code>.main</code> &#x624D;&#x80FD;&#x5D4C;&#x5957;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x66F4;&#x591A;&#x7EA7;&#x7684;&#x5C31;&#x5F88;&#x522B;&#x626D;&#x4E86;&#x3002;&#x770B;&#x5230; Github &#x4E0A;&#x7684;&#x8FD9;&#x4E2A; <a href="https://github.com/less/less.js/issues/1730" target="_blank" rel="external">issue #1730</a> &#x4E5F;&#x6CA1;&#x6709;&#x5B8C;&#x7F8E;&#x7684;&#x7B54;&#x6848;&#x3002;</p>
<h3 id="mixin">Mixin</h3><p>mixin &#x540C;&#x6837;&#x80FD;&#x5B9E;&#x73B0;&#x4E0A;&#x9762;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4F46;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x7F16;&#x8BD1;&#x7ED3;&#x679C;&#x4EE3;&#x7801;&#x91CF;&#x4F1A;&#x66F4;&#x591A;&#xFF0C;&#x56E0;&#x4E3A; mixin &#x662F;&#x884C;&#x5185;&#x7684;&#x3002;</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">.btn {</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 25px;</span><br><span class="line">    color: #fff;</span><br><span class="line">}</span><br><span class="line">.btn-red {</span><br><span class="line">    .btn();</span><br><span class="line">    background: red;</span><br><span class="line">}</span><br><span class="line">.btn-blue {</span><br><span class="line">    .btn();</span><br><span class="line">    background: blue;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x7F16;&#x8BD1;&#x540E;&#xFF1A;</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.btn</span> <span class="rules">{</span><br><span class="line">  <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">100px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">25px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#fff</span></span></span>;</span><br><span class="line">}</span></span><br><span class="line"><span class="class">.btn-red</span> <span class="rules">{</span><br><span class="line">  <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">100px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">25px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#fff</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">background</span>:<span class="value"> red</span></span>;</span><br><span class="line">}</span></span><br><span class="line"><span class="class">.btn-blue</span> <span class="rules">{</span><br><span class="line">  <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">100px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">25px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#fff</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">background</span>:<span class="value"> blue</span></span>;</span><br><span class="line">}</span></span><br></pre></td></tr></table></figure>
<p>&#x800C; mixin &#x771F;&#x6B63;&#x7684;&#x4F18;&#x52BF;&#x5728;&#x4E8E;&#x5176; <em>&#x51FD;&#x6570;&#x5316;</em> &#x65B9;&#x6CD5;&#xFF0C;&#x540C;&#x6837;&#x662F;&#x4E0A;&#x9762;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x5199;&#xFF1A;</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">.btn(@bgColor) { // &#x6CE8;&#x610F;&#x8FD9;&#x91CC;&#x6709;&#x4E2A;&#x62EC;&#x53F7;&#xFF0C;&#x91CC;&#x9762;&#x5E26;&#x6709;&#x53C2;&#x6570;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 25px;</span><br><span class="line">    color: #fff;</span><br><span class="line">    background: @bgColor;</span><br><span class="line">}</span><br><span class="line">.btn-red {</span><br><span class="line">    .btn(red);</span><br><span class="line">}</span><br><span class="line">.btn-blue {</span><br><span class="line">    .btn(blue);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x7F16;&#x8BD1;&#x540E;&#xFF1A;</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.btn-red</span> <span class="rules">{</span><br><span class="line">  <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">100px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">25px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#fff</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">background</span>:<span class="value"> red</span></span>;</span><br><span class="line">}</span></span><br><span class="line"><span class="class">.btn-blue</span> <span class="rules">{</span><br><span class="line">  <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">100px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">25px</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#fff</span></span></span>;</span><br><span class="line">  <span class="rule"><span class="attribute">background</span>:<span class="value"> blue</span></span>;</span><br><span class="line">}</span></span><br></pre></td></tr></table></figure>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x8FD9;&#x6B21;&#x7684;&#x7F16;&#x8BD1;&#x7ED3;&#x679C;&#x5DF2;&#x7ECF;&#x6CA1;&#x6709; <code>.btn</code> &#x4E86;&#xFF0C;&#x6211;&#x7406;&#x89E3; <code>()</code> &#x4F7F;&#x5176;&#x4F5C;&#x4E3A;&#x51FD;&#x6570;&#x58F0;&#x660E;&#x5B58;&#x5728;&#xFF0C;&#x672C;&#x8EAB;&#x4E0D;&#x4EA7;&#x751F; css&#xFF0C;&#x53EA;&#x6709;&#x5728;&#x88AB;&#x8C03;&#x7528;&#x65F6;&#x624D;&#x5C06;&#x5176;&#x51FD;&#x6570;&#x4F53; <code>{}</code> &#x91CC;&#x7684;&#x5185;&#x5BB9;&#x8D4B;&#x4E88;&#x8C03;&#x7528;&#x8005;&#x3002;</p>
<h4 id="&#x5728;&#x5D4C;&#x5957;&#x4E2D;&#x4F7F;&#x7528;">&#x5728;&#x5D4C;&#x5957;&#x4E2D;&#x4F7F;&#x7528;</h4><p>mixin &#x5728;&#x5D4C;&#x5957;&#x4E2D;&#x5C31;&#x6CA1;&#x6709;&#x90A3;&#x4E48;&#x591A;&#x95EE;&#x9898;&#x4E86;&#xFF1A;</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.main {</span><br><span class="line">    .title {</span><br><span class="line">        color: #ccc;</span><br><span class="line">    }</span><br><span class="line">    .subtitle {</span><br><span class="line">        .title;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x6216;</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.main {</span><br><span class="line">    .title(@color) {</span><br><span class="line">        color: @color;</span><br><span class="line">    }</span><br><span class="line">    .subtitle {</span><br><span class="line">        .title(#ccc);</span><br><span class="line">        font-size: 14px;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>&#x90FD;&#x80FD;&#x5206;&#x522B;&#x5F97;&#x5230;&#x76F8;&#x5E94;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x4F46;&#x8FD9;&#x4E24;&#x8005;&#x662F;&#x6709;&#x533A;&#x522B;&#x7684;&#xFF0C;&#x524D;&#x8005;&#x4F1A;&#x4EA7;&#x751F; <code>.main .title</code> &#x800C;&#x540E;&#x8005;&#x4E0D;&#x4F1A;&#x3002;</p>
<p>&#x5982;&#x679C;&#x8981;&#x5728;&#x5D4C;&#x5957;&#x5916;&#x8C03;&#x7528;&#xFF0C;&#x8FD9;&#x6837;&#x4E5F;&#x5F88;&#x5408;&#x7406;&#xFF1A;</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">.main {</span><br><span class="line">    .title(@color) {</span><br><span class="line">        color: @color;</span><br><span class="line">    }</span><br><span class="line">    .subtitle {</span><br><span class="line">        .title(#ccc);</span><br><span class="line">        font-size: 14px;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">.other {</span><br><span class="line">    .main .title(#ccc); // &#x6CE8;&#x610F;&#x8FD9;&#x91CC;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://csbun.github.io/blog/2015/07/less/" data-id="ciga4wtqm0011thq9o7d4piic" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/less/">less</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/blog/2015/07/js-unit-test-coverage-ci/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          JS 单元测试代码覆盖率和持续集成
        
      </div>
    </a>
  
  
    <a href="/blog/2015/06/docker-with-node/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Docker With Node</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/blog/tags/Ajax/" style="font-size: 10px;">Ajax</a> <a href="/blog/tags/Angular/" style="font-size: 20px;">Angular</a> <a href="/blog/tags/Browserify/" style="font-size: 10px;">Browserify</a> <a href="/blog/tags/CommonJS/" style="font-size: 10px;">CommonJS</a> <a href="/blog/tags/DOM/" style="font-size: 10px;">DOM</a> <a href="/blog/tags/Docker/" style="font-size: 10px;">Docker</a> <a href="/blog/tags/Filter/" style="font-size: 10px;">Filter</a> <a href="/blog/tags/Flux/" style="font-size: 13.33px;">Flux</a> <a href="/blog/tags/Fluxxor/" style="font-size: 10px;">Fluxxor</a> <a href="/blog/tags/Meteor/" style="font-size: 10px;">Meteor</a> <a href="/blog/tags/Mutation-Observer/" style="font-size: 10px;">Mutation Observer</a> <a href="/blog/tags/NW-js/" style="font-size: 10px;">NW.js</a> <a href="/blog/tags/Node/" style="font-size: 16.67px;">Node</a> <a href="/blog/tags/React/" style="font-size: 16.67px;">React</a> <a href="/blog/tags/RequireJS/" style="font-size: 10px;">RequireJS</a> <a href="/blog/tags/Selenium/" style="font-size: 13.33px;">Selenium</a> <a href="/blog/tags/ServiceWorker/" style="font-size: 10px;">ServiceWorker</a> <a href="/blog/tags/Stateful/" style="font-size: 10px;">Stateful</a> <a href="/blog/tags/async/" style="font-size: 13.33px;">async</a> <a href="/blog/tags/browser-perf/" style="font-size: 10px;">browser-perf</a> <a href="/blog/tags/ci/" style="font-size: 10px;">ci</a> <a href="/blog/tags/contentEditable/" style="font-size: 10px;">contentEditable</a> <a href="/blog/tags/coverage/" style="font-size: 10px;">coverage</a> <a href="/blog/tags/debug/" style="font-size: 10px;">debug</a> <a href="/blog/tags/desktop/" style="font-size: 10px;">desktop</a> <a href="/blog/tags/events/" style="font-size: 10px;">events</a> <a href="/blog/tags/generator/" style="font-size: 10px;">generator</a> <a href="/blog/tags/google/" style="font-size: 10px;">google</a> <a href="/blog/tags/koa/" style="font-size: 10px;">koa</a> <a href="/blog/tags/less/" style="font-size: 10px;">less</a> <a href="/blog/tags/log/" style="font-size: 10px;">log</a> <a href="/blog/tags/logo/" style="font-size: 10px;">logo</a> <a href="/blog/tags/performance/" style="font-size: 10px;">performance</a> <a href="/blog/tags/permissions/" style="font-size: 10px;">permissions</a> <a href="/blog/tags/requestAnimationFrame/" style="font-size: 10px;">requestAnimationFrame</a> <a href="/blog/tags/requestIdleCallback/" style="font-size: 10px;">requestIdleCallback</a> <a href="/blog/tags/test/" style="font-size: 13.33px;">test</a> <a href="/blog/tags/ui/" style="font-size: 10px;">ui</a> <a href="/blog/tags/webkit/" style="font-size: 10px;">webkit</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2015/09/">September 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2015/07/">July 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2015/06/">June 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2015/05/">May 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2015/04/">April 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2015/03/">March 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2015/02/">February 2015</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2014/12/">December 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2014/09/">September 2014</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/2015/09/using-contenteditable/">Using Contenteditable</a>
          </li>
        
          <li>
            <a href="/blog/2015/09/using-iron-node/">使用 iron-node 进行 Node Debug</a>
          </li>
        
          <li>
            <a href="/blog/2015/09/google-new-logo/">Google 换新 Logo 了</a>
          </li>
        
          <li>
            <a href="/blog/2015/09/raf-and-ric/">requestAnimationFrame 和 requestIdleCallback</a>
          </li>
        
          <li>
            <a href="/blog/2015/07/meteor-react/">Meteor + React</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 Hans Chan<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/blog/" class="mobile-nav-link">Home</a>
  
    <a href="/blog/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/blog/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/blog/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>